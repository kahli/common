identity_service.query_data:
  path: '/api/identity/query'
  defaults:
    _controller: '\Drupal\identity_service\Controller\ServiceController::queryData'
  options:
    _auth: ['basic_auth']
    no_cache: 'TRUE'
  methods: ['POST']
  requirements:
    _permission: 'query identity data'
identity_service.data:
  path: '/api/identity/data'
  defaults:
    _controller: '\Drupal\identity_service\Controller\ServiceController::postData'
  options:
    _auth: [ 'basic_auth' ]
    no_cache: 'TRUE'
  methods: [ 'POST' ]
  requirements:
    _permission: 'post identity data'
identity_service.identity.data_post:
  path: '/api/identity/{identity}/data'
  defaults:
    _controller: '\Drupal\identity_service\Controller\ServiceController::postIdentityData'
  options:
    _auth: [ 'basic_auth' ]
    no_cache: 'TRUE'
  methods: [ 'POST' ]
  requirements:
    _permision: 'post identity data'
    _entity_access: 'identity.update'
identity_service.identity.data_get:
  path: '/api/identity/{identity}/data'
  defaults:
    _controller: '\Drupal\identity_service\Controller\ServiceController::getIdentityData'
  options:
    _auth: [ 'basic_auth' ]
    no_cache: 'TRUE'
  methods: [ 'GET' ]
  requirements:
    _entity_access: 'identity.view'
